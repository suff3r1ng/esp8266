<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Code Generator and Scanner</title>
<script src="https://unpkg.com/html5-qrcode"></script>
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
</head>
<body>

<h2>Generate QR Code</h2>
<input type="text" id="dataInput" placeholder="Enter data for QR code">
<button onclick="generateQRCode()">Generate QR</button>
<div id="qrcode" style="margin-top: 15px;"></div>

<h2>Scan QR Code</h2>
<div id="reader" style="width: 600px; height: 400px;"></div>

<script>

    // Function to generate QR code
function generateQRCode() {
  const data = document.getElementById('dataInput').value;
  const qrcodeContainer = document.getElementById('qrcode');
  
  // Clear the QR Code container to avoid drawing multiple QR codes
  qrcodeContainer.innerHTML = '';
  
  // Generate the QR Code using the data from the input field
  if (data) {
    new QRCode(qrcodeContainer, data);
  } else {
    alert('Please enter some data to convert to QR code.');
  }
}

// Existing functions for QR scanner initialization and handling
function onScanSuccess(decodedText, decodedResult) {
    // ... existing code ...
}

function onScanFailure(error) {
    // ... existing code ...
}

let html5QrcodeScanner = new Html5QrcodeScanner("reader", { fps: 10, qrbox: 250 });
html5QrcodeScanner.render(onScanSuccess, onScanFailure);
</script>
</body>
</html>